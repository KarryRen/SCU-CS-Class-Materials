# 第十章 并行接口

<center>Karry</center>

1.8255A 的 24条外设数据线有什么特点

> 答：
>
> A组，B组工作于方式0时，24条作为一般I/0线，PA7-O, PB7-0,PC7-4,PC3-O可分别定义输入/输出;
>
> A 组，B组工作于方式1时各使用C口3条线作联络线。C口其余可做一般Ⅰ/0线；
>
> A组工作于方式2时，需使用C口5条线作联络线。



2.8255A 两组都定义为方式1输入，则方式控制字是什么？此时方式控制字 $D_3$ 和 $D_0$ 两位确定什么功能？

> 答：方式控制字为:1 011 x 11x
>
> 其中任意的D3位确定PC4～ PC7 、DO位确定PCO~PC3是方式0输入还是输出;由于两组都为方式1输入，PCO～PC5被征用为控制信号。所以D3位仅确定PC6、_PC7是方式0输入还是输出;而DO位没有作用。



5.对8255A的控制寄存器写入 B0H，则其端口C的$PC_5$引脚是什么作用的信号线？

> 答：方式控制字为BOH=10110000B，说明A组为方式1输入，它将征用PC5引脚作为输入缓冲器满信号IBFA。



6.解答如下：

> 答：
>
> - 接口电路:用端口引脚PBO～PB7与打印机DATA0~7连接，其他不变
> - 程序:用端口B的I/O地址FFFAH替换端口A的FFF8H
> - 另外，应设置端口B为方式O输出。但由于原控制字已经做到，所以无需修改



8.代码如下：

> ```assembly
> ;写入方式字
> 	mov al,100×00×1b
> 	mov dx, 控制口地址
> 	out dx, a1
> ; 加入下一段，使L0 - L3 全亮
> 	mov a1, 0fh
>     mov dx, 端口C地址
>     out dx, a1
> ; 控制程序段
> 	mov dx, 端口 C 地址
> 	in a1, dx
> 	mov c1, 4
> 	shl a1, c1
> 	out dx, a1
> ```



